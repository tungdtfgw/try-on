---
description: General project rules
alwaysApply: true
---
# Project structure
.cursor/: stores automation rules and commands.
  - rules/: development rules.
  - commands/: automation commands.
README.md: project documentation.
.gitignore: git ignore file.
sprints/: user stories and sprint backlog (US-01.md, US-02.md, US-03.md, US-04.md, US-05.md, US-06.md, sprint1.md, sprint2.md, sprint3.md, PB.md).
design/: database schema và thiết kế hệ thống.
  - database/: schema thiết kế database (schema.md, storage.md).
  - flows/: luồng hoạt động các tính năng (auth-profile-flow.md, US-05-*.md, US-06-*.md) - Mermaid activity diagrams.
  - ui/: hướng dẫn thiết kế UI (guides.md).
migrations/: SQL migration scripts cho Supabase.
backend/: Backend API (Node.js + Express).
 - src/: source code (controllers, services, repositories, middlewares, config, routes, utils).
 - controllers/: request handlers (auth_controller.js, profile_controller.js, categories_controller.js, products_controller.js, etc.).
 - services/: business logic (auth_service.js, profile_service.js, categories_service.js, products_service.js, etc.).
 - repositories/: data access layer (categories_repository.js, products_repository.js, etc.).
 - routes/: API routes (auth_routes.js, profile_routes.js, categories_routes.js, products_routes.js, etc.).
 - middlewares/: middleware functions (auth_middleware.js, error_handler.js, validation_middleware.js, etc.).
 - config/: configuration files (constants.js, supabase.js).
 - utils/: utility functions (jwt.js, etc.).
 - .env.example: environment variables template.
frontend/: Frontend application (React + Vite + TailwindCSS).
 - src/: source code (components, pages, services, hooks, utils, features).
 - components/: reusable UI components.
   - layout/: layout components (Header, Footer, AuthenticatedHeader, etc.).
   - ui/: UI primitives (Button, Card, Container, Input, Modal, Select, Spinner, Alert, Textarea, etc.).
   - ProtectedRoute.jsx: component bảo vệ routes yêu cầu đăng nhập.
   - CategoryForm.jsx: form component cho tạo/sửa category.
   - ProductForm.jsx: form component cho tạo/sửa product.
 - pages/: page components (LandingPage, RegisterPage, LoginPage, Dashboard, ProfilePage, CategoriesPage, ProductsPage, etc.).
 - services/: API service functions (api.js, auth_service.js, profile_service.js, categories_service.js, products_service.js, etc.).
 - utils/: utility functions (cn.js, etc.).
 - .env.example: environment variables template.

=> Always use the structure above to understand the project when writing code. 
=> When creating new files or folders, place them in the appropriate location according to this structure. 
=> Always update this structure whenever creating or deleting any folder or file.

# Project tech stacks.
Keep in mind that the project is built with the following tech stack:
  - Backend: NodeJS + ExpressJS
  - Frontend: ReactJS + Vite + TailwindCSS
  - Database & Storage: Supabase
  - Authentication: JWT
  - Do not use Prisma, use Supabase directly for schema and CRUD.
  - Do not use the default Users table of Supabase, create a `profiles` table.
# Humor
- Include an English dad joke of any topic in every reply to the user. The joke does not need to be related to the current task or the project but could be other topics as well.
